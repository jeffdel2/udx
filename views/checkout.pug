extends layout

block content
  .checkout-page
    .container
      h1.profile.text-center-profile Checkout

      if cart.length
        .row.g-4
          // Left Column - Order Summary
          .col-md-6
            .card.shadow-sm.mb-4
              .card-body
                h4.profile.mb-3 Order Summary
                .order-items
                  each item, index in cart
                    .d-flex.justify-content-between.align-items-center.mb-3.p-2.border-bottom
                      .d-flex.flex-column
                        span.fw-bold #{item.name}
                        span.text-muted $#{item.price.toFixed(2)}
                      form(action="/remove-from-cart", method="POST", style="display: inline;")
                        input(type="hidden", name="itemIndex", value=index)
                        button.btn.btn-sm.btn-outline-danger(type="submit", title="Remove item")
                          i.material-symbols-outlined remove_shopping_cart
                hr
                .d-flex.justify-content-between.align-items-center
                  h5.mb-0 Total:
                  h4.text-primary.mb-0 $#{total.toFixed(2)}

          // Right Column - Payment Form
          .col-md-6
            .card.shadow-sm
              .card-body
                h4.profile.mb-3 Payment Information
                p.text-muted.mb-4 This is a mock payment form for demonstration purposes.

                form(action="/process-payment", method="POST")
                  .mb-3
                    label.form-label(for="name") Cardholder Name
                    input#name.form-control(type="text", name="name", required, placeholder="Enter cardholder name")
                  
                  .mb-3
                    label.form-label(for="cardNumber") Card Number
                    input#cardNumber.form-control(type="text", name="cardNumber", required, placeholder="1234 5678 9012 3456")
                  
                  .row.mb-3
                    .col-6
                      label.form-label(for="expiry") Expiration Date
                      input#expiry.form-control(type="text", name="expiry", placeholder="MM/YY", required)
                    .col-6
                      label.form-label(for="vendor") Payment Vendor
                      select#vendor.form-control(name="vendor", required)
                        option(value="") Select vendor
                        option(value="Visa") Visa
                        option(value="MasterCard") MasterCard
                        option(value="AmEx") American Express
                        option(value="FunPay") FunPay (mock vendor)

                  .text-center.mt-4
                    button.btn.btn-primary.btn-lg.w-100(type="submit")
                      i.material-symbols-outlined.me-2 payment
                      | Pay $#{total.toFixed(2)}

        .row.mt-4
          .col-12
            .card.shadow-sm
              .card-body
                h4.profile.mb-3 Important Information
                .row
                  .col-md-6
                    h5.profile.mb-2 Security
                    p.small.text-muted Your payment information is encrypted and secure. This is a demonstration system.
                  .col-md-6
                    h5.profile.mb-2 Refund Policy
                    p.small.text-muted All purchases are final. No refunds will be issued for demonstration purposes.

        footer.text-center.mt-4
          p &copy; 2025 - Universal Parks Checkout System

      else
        .row
          .col-12
            .card.shadow-sm
              .card-body.text-center
                h4.profile.mb-3 Your Cart is Empty
                p.text-muted.mb-4 Looks like you haven't added any tickets to your cart yet.
                a.btn.btn-primary(href='/tickets')
                  i.material-symbols-outlined.me-2 shopping_cart
                  | Browse Tickets
